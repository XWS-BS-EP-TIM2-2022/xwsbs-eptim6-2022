<app-navbar></app-navbar>
<br><br>
<div class="container">
  <table class="table table-striped table-bordered">
      <thead>
          <tr>
              <th>Name</th>
              <th>Biography</th>
              <th>Experiences</th>
              <th>Skills</th>
              <th>Education</th>
              <th>Interests</th>
              <th></th>
          </tr>
      </thead>
      <tbody>
          <tr *ngFor="let user of users">
              <td>{{user.name}} {{user.surname}}</td>
              <td>{{user.biography}}</td>
              <td><p *ngFor="let exp of user.experiences">{{exp.text}}</p></td>
              <td><p *ngFor="let edu of user.educations">{{edu.text}}</p></td>
              <td><p *ngFor="let skill of user.skills">{{skill.text}}</p></td>
              <td><p *ngFor="let int of user.interests">{{int.text}}</p></td>
              <td>
                <ng-container *ngIf="isUserFollowing(user.username); then isFollowing; else notFollowing">
                </ng-container>
                <ng-template #notFollowing>
                    <ng-container *ngIf="isFollowingMe(user.username); then followBack; else normalFollow">
                    </ng-container>
                    <ng-template #followBack>
                      <button mat-button *ngIf="isFollowingMe(user.username)" (click)="followUser(user.id)">Follow Back</button>
                    </ng-template>
                    <ng-template #normalFollow>
                      <button mat-button *ngIf="user.isPublic" (click)="followUser(user.id)">Follow</button>
                      <button mat-button *ngIf="!user.isPublic" (click)="followUser(user.id)">Send Follow Request</button>
                    </ng-template>
                </ng-template>
                  <ng-template #isFollowing>
                    <button mat-button (click)="unfollowUser(user.id)">UnFollow</button>
                </ng-template>
              </td>
          </tr>
      </tbody>
  </table>
</div>

<!-- <mat-nav-list *ngFor="let user of users">
  <mat-list-item>
    <h3 >{{user.name}} {{user.surname}} {{user.biography}} Experiences: </h3>
    <h3 *ngFor="let exp of user.experiences">{{exp.text}}</h3>
    <p></p>
  </mat-list-item>
</mat-nav-list>

<br>
<span *ngFor="let user of users">
<p >
<mat-card class="example-card">
    <mat-card-title>{{user.name}} {{user.surname}}</mat-card-title>
    <mat-card-subtitle>{{user.biography}}</mat-card-subtitle>
    <mat-card-content>
      <p><strong>Experiences: </strong></p>
      <p *ngFor="let exp of user.experiences">{{exp.text}}</p>
    </mat-card-content>
    <mat-card-content>
        <p><strong>Education: </strong></p>
        <p *ngFor="let edu of user.educations">{{edu.text}}</p>
    </mat-card-content>
    <mat-card-content>
        <p><strong>Skills: </strong></p>
        <p *ngFor="let skill of user.skills">{{skill.text}}</p>
    </mat-card-content>
    <mat-card-content>
        <p><strong>Interests: </strong></p>
        <p *ngFor="let int of user.interests">{{int.text}}</p>
    </mat-card-content>
    <ng-container *ngIf="isUserFollowing(user.username); then isFollowing; else notFollowing">
  </ng-container>
  <ng-template #notFollowing>
    <mat-card-actions>
      <ng-container *ngIf="isFollowingMe(user.username); then followBack; else normalFollow">
      </ng-container>
      <ng-template #followBack>
        <button mat-button *ngIf="isFollowingMe(user.username)" (click)="followUser(user.id)">Follow Back</button>
      </ng-template>
      <ng-template #normalFollow>
        <button mat-button *ngIf="user.isPublic" (click)="followUser(user.id)">Follow</button>
        <button mat-button *ngIf="!user.isPublic" (click)="followUser(user.id)">Send Follow Request</button>
      </ng-template>
    </mat-card-actions>
  </ng-template>
    <ng-template #isFollowing>
    <mat-card-actions>
      <button mat-button (click)="unfollowUser(user.id)">UnFollow</button>
    </mat-card-actions>
  </ng-template>

</mat-card>
<br>
</p>
</span> -->